<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta about="Simple Console Game based on the classic game 'Rock Paper Scissors' based on The Odin Project ">
        <meta author="Julian Weidner">
    </head>
    <body>
        <script>
            let numOfRounds = GetRounds(); 
            //gets the number of rounds desired to play
            function GetRounds (){
                console.log("enter the amount of games you want to play")
                const numOfRounds = window.prompt();
                return numOfRounds
            }
            
            //create function to generate computer input @ randomn
            function ComputerPlay (){ 
                let computerInput;
                let randomNum = Math.random(); //create random numbner between 0 - 1 not including one (just the Math.random rule)
                if(randomNum < .34){ //if it is less than .34 its rock .33 chance of rock
                    computerInput = "rock"
                    return computerInput;
                }
                else if(randomNum >= .34 && randomNum < .67){ //if it is greater than or equal to .34 and less than .67 it is Paper!
            
                    computerInput = "paper"
                    return computerInput;
                }
                else{ //if it is greater outside of the previous constraints is is scissors, I think the numbers are limited to .67 and greater!
                    computerInput = "scissors"
                    return computerInput;
                }

            };
            //gets user input returns as a string
            function UserPlay (){
                let userInput; //define userInput
                console.log("Choose one! \nRock\nPaper\nScissors"); //write to the console the message of what to put
                userInput = window.prompt() //call this BS prompt because there is no console.readline from the browser window because it is not a real console. took 20 minutes of googling to get this one
                let strUserInput = userInput.toLowerCase(); //convert all user input to lower to at least get rid of the case sensitivity, any other error handling is outside of the scope of the project
                return strUserInput; //function returns the user input, which is hopefull "rock", "paper", or "scissors"
            };
            //logic for the winner between the computers and users for one round based on input fed from the ComputerPlay and UserPlay functions
            function Round(userParam, computerParam){
                //take params and define them as userInput and computerInput
                var userInput = userParam;
                var computerInput = computerParam;
                var userWin = false; //default to false
                var computerWin = false;
                var drawMatch = false;
                const gamePhrase = "Rock!\nPaper!\nScissors!\nShoot!\nComputer:" + computerInput + " vs User:" + userInput;//used to signify a match
                //
                //Write Rock paper scissors phrase everytime the function is called
                console.log(gamePhrase);
                //game logic NEEDS WORK
                if (computerInput === userInput){ //tie game
                    console.log("It's a Draw!");   
                    userWin = false;
                    computerWin = false;
                    drawMatch = true;
                    var results = "draw"
                    return results;
                }

                if (userInput == "rock" && computerInput == "scissors"){ //this is hidious, but I can't think of a better way rn
                    console.log("You win!");
                    userWin = true;
                    computerWin = false;
                    var results = "user"
                    return results;

                }
                if(userInput == "rock" && computerInput == "paper"){
                    console.log("You lose!");
                    userWin = false;
                    computerWin = true;
                    var results = "computer"
                    return results
                }
                if(userInput == "scissors" && computerInput == "paper"){
                    console.log("You win!");
                    userWin = true;
                    computerWin = false;
                    var results = "user"
                    return results;
                }
                if(userInput == "scissors" && computerInput == "rock"){
                    console.log("You lose!");
                    userWin = false;
                    computerWin = true;
                    var results = "computer"
                    return results;
                }
                if(userInput == "paper" && computerInput == "rock")
                {
                    console.log("You win!");
                    var results = "user"
                    return results
                }
                if(userInput == "paper" && computerInput == "scissors"){
                    console.log("You lose!");
                    userWin = false;
                    var results = "computer"
                    return results;
                }
            };
            //keeps track of the score based on the results fed from the Round function
            function ScoreTrack(roundResult){
                let userScore = 0;
                let computerScore = 0;
                let drawCount = 0;

                if(roundResult === "user"){
                    userScore + 1;
                    console.log(userScore);
                    return userScore;
                    
                }
                else if(roundResult === "computer"){
                    computerScore + 1;
                    console.log(computerScore);
                    return computerScore;
        
                }
                else if (roundResult === "draw"){
                    drawCount + 1;
                    console.log(drawCount);
                    return drawCount;
                }

                console.log("userscore: "+ userScore);
                console.log("computerScore: " +computerScore);
                console.log("drawcount: "+ drawCount);
            }
            //Calls on all functions to play a game for a determined amount of rounds
            function Game(roundsParam){
                //rounds played counter
                let roundsPlayed = 0;
                //while loop, while the rounds played counter is less or equal to the rounds param passed from outside the function execute loop
                while(roundsPlayed <= roundsParam)
                    {
                        //gets user input
                        let userInput = UserPlay();
                        //gets computer input
                        let computerInput = ComputerPlay();
                        //trackers for the rounds
                        let userScore = 0;
                        let computerScore = 0;
                        let drawCount = 0;
                        //run a round and create a result for ScoreTrack Function
                        let roundResult = Round(userInput, computerInput)
                        //track the score
                        ScoreTrack(roundResult);

                        
                     
                        roundsPlayed++
                    }
                    console.log("Computer Score:"+ computerScore +"\nYour Score:" + userScore+ "\nDraws:"+drawCount+"\nMatches Played:"+roundsPlayed);
                
                
               
                
            }
            
            Game(numOfRounds);



            
        </script>
    </body>
</html>
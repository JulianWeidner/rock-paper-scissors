<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta about="Simple Console Game based on the classic game 'Rock Paper Scissors' based on The Odin Project ">
        <meta author="Julian Weidner">
    </head>
    <body>
        <script>
            let userInput = UserPlay();
            let computerInput = ComputerPlay();
        
            let userScore = 0;
            let computerScore = 0;
            let round = 0;



            //create function to generate computer input @ randomn
            function ComputerPlay (){ 
                let computerInput;
                let randomNum = Math.random(); //create random numbner between 0 - 1 not including one (just the Math.random rule)
                if(randomNum < .34){ //if it is less than .34 its rock .33 chance of rock
                    computerInput = "rock"
                    return computerInput;
                }
                else if(randomNum >= .34 && randomNum < .67){ //if it is greater than or equal to .34 and less than .67 it is Paper!
            
                    computerInput = "paper"
                    return computerInput;
                }
                else{ //if it is greater outside of the previous constraints is is scissors, I think the numbers are limited to .67 and greater!
                    computerInput = "scissors"
                    return computerInput;
                }

            };
            function UserPlay (){
                let userInput; //define userInput
                console.log("Choose one! \nRock\nPaper\nScissors"); //write to the console the message of what to put
                userInput = window.prompt() //call this BS prompt because there is no console.readline from the browser window because it is not a real console. took 20 minutes of googling to get this one
                let strUserInput = userInput.toLowerCase(); //convert all user input to lower to at least get rid of the case sensitivity, any other error handling is outside of the scope of the project
                return strUserInput; //function returns the user input, which is hopefull "rock", "paper", or "scissors"
            };


            

            function Round(userParam, computerParam){
                //take params and define them as userInput and computerInput
                var userInput = userParam;
                var computerInput = computerParam;
                var userWin = false; //default to false
                var computerWin = false;
                var drawMatch = false;
                const gamePhrase = "Rock!\nPaper!\nScissors!\nShoot!\nComputer:" + computerInput + " vs User:" + userInput;//used to signify a match
                //
                //Write Rock paper scissors phrase everytime the function is called
                console.log(gamePhrase);
                //game logic NEEDS WORK
                if (computerInput === userInput){ //tie game
                    console.log("It's a Draw!");   
                    userWin = false;
                    computerWin = false;
                    drawMatch = true;
                    return drawMatch;
                }

                if (userInput == "rock" && computerInput == "scissors"){ //this is hidious, but I can't think of a better way rn
                    console.log("You win!");
                    userWin = true;
                    computerWin = false;
                    return userWin;
                }
                if(userInput == "rock" && computerInput == "paper"){
                    console.log("You lose!");
                    userWin = false;
                    computerWin = true;
                    return computerWin;
                }
                if(userInput == "scissors" && computerInput == "paper"){
                    console.log("You win!");
                    userWin = true;
                    computerWin = false;
                    return userWin;
                }
                if(userInput == "scissors" && computerInput == "rock"){
                    console.log("You lose!");
                    userWin = false;
                    computerWin = true;
                    return computerWin;
                }
                if(userInput == "paper" && computerInput == "rock")
                {
                    console.log("You win!");
                    userWin = true;
                    computerWin = false;
                    return userWin;
                }
                if(userInput == "paper" && computerInput == "scissors"){
                    console.log("You lose!");
                    userWin = false;
                    computerWin = true;
                    return computerWin;
                }
            };
            

            function scoreTrack(){
                var winner = console.readline();
                if(userWin == true && computerWin == false){
                    userScore += 1;
                    round += 1
                }
                else if(computerWin == true && userWin == false){
                    computerScore +=1;
                    round += 1;
                }
                else if (drawMatch == true){
                    round += 1;
                }

                console.log(computerScore + " " + userScore);
            }

            Round(userInput, computerInput);
        </script>
    </body>
</html>